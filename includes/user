<h1 id='user'>User</h1><h2 id='user-registration-flow'>User Registration Flow</h2><h3 id='registration'>Registration</h3>
<p>User needs to be registered first before they can use the app</p>
<h3 id='auth-requirements'>Auth Requirements</h3>
<p>After login, the client needs to include token in <code>Authorization</code> field in the header with value of <code>Bearer {TOKEN}</code> to be able to verify the user authenticity</p>
<h2 id='post-api-auth-login'>POST /api/auth/login</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+2@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somePassword"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accessToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOjIsImVtYWlsIjoidGVzdCsyQGV4YW1wbGUuY29tIiwiaWF0IjoxNjE2MDM4ODg0fQ._QwfGpTiStsmrXxg-_bwDEQeTmXWoCgev2k4RDVrINk"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition'>Definition</h3>
<p>Login using email and password</p>
<h3 id='request-parameter'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>String</td>
<td>User email</td>
<td>True</td>
<td>test@example.com</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>User password</td>
<td>True</td>
<td>somePassword</td>
</tr>
</tbody></table>
<h2 id='post-api-auth-register'>POST /api/auth/register</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+3@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somePassword"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmationPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somePassword"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+4@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accessToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOjE5LCJlbWFpbCI6InRlc3QrNEBleGFtcGxlLmNvbSIsImlhdCI6MTYxNjAzNDQ4NH0.aZ04bGvygTM36WVd9s_skPedV0nxEadp7M6C2mvE5Ck"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition-2'>Definition</h3>
<p>Register new user</p>
<h3 id='request-parameter-2'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example value</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>String</td>
<td>User email</td>
<td>True</td>
<td>test+4@example.com</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>User password</td>
<td>True</td>
<td>somePassword</td>
</tr>
<tr>
<td>confirmationPassword</td>
<td>String</td>
<td>Confirmation Password</td>
<td>True</td>
<td>somePassword</td>
</tr>
</tbody></table>
<h2 id='post-api-users-update-role'>POST /api/users/update-role</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELLER"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2f0744f-a334-46da-8722-2ccc79876287"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+2@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELLER"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition-3'>Definition</h3>
<p>After register, user must update their role using above endpoint</p>
<h3 id='request-parameter-3'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example Value</th>
</tr>
</thead><tbody>
<tr>
<td>role</td>
<td>String</td>
<td>User role</td>
<td>True</td>
<td><code>SELLER</code> or <code>BUYER</code></td>
</tr>
</tbody></table>
<h2 id='get-api-users-me'>GET /api/users/me</h2>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07514458-b24a-41aa-b924-262eb2486f74"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test+2@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615791586</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition-4'>Definition</h3>
<p>Get my profile</p>
