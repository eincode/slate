<h1 id='user'>User</h1><h2 id='user-registration-flow'>User Registration Flow</h2><h3 id='cognito-registration'>Cognito registration</h3>
<p>User needs to be registered first through cognito in order to get that user&#39;s ID to be used in the request header. After user registration, user will be asked for their data needed in order to use Floo app. After the data is obtained, client will update the user details through the update endpoint below.</p>
<h3 id='after-cognito-registration'>After Cognito registration</h3>
<p>After user is registered in Cognito, a Post Registration trigger will invoke the auto-user-registration function which will add said user to DynamoDb with values:</p>

<ul>
<li>User ID: User&#39;s ID provided by Cognito</li>
<li>Email: User&#39;s cognito registered email</li>
<li>Username: User&#39;s email before the <code>@</code> character appended with 4 digit random number</li>
</ul>
<h2 id='post-users-update'>POST /users/update</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hujan Deras"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d0263e7-2015-458c-b29f-801fee73a393"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583731912113</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan154432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan15@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hujan Deras"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition'>Definition</h3>
<p>Update user profile</p>
<h3 id='request-parameter'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example value</th>
</tr>
</thead><tbody>
<tr>
<td>available_start_time</td>
<td>String</td>
<td>User available start time</td>
<td>True</td>
<td>12:00</td>
</tr>
<tr>
<td>available_end_time</td>
<td>String</td>
<td>User available end time</td>
<td>True</td>
<td>17:00</td>
</tr>
<tr>
<td>avatar</td>
<td>String</td>
<td>User avatar image link</td>
<td>True</td>
<td>https://google.com/</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>User name</td>
<td>True</td>
<td>John</td>
</tr>
<tr>
<td>login</td>
<td>String</td>
<td>User login type</td>
<td>True</td>
<td><code>Google</code>, <code>Facebook</code>, <code>Email</code></td>
</tr>
</tbody></table>
<h2 id='get-users-me'>GET /users/me</h2>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d0263e7-2015-458c-b29f-801fee73a393"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583731912113</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan154432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan15@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hujan Deras"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition-2'>Definition</h3>
<p>Get my profile</p>
<h2 id='get-users-userid'>GET /users/:userId</h2>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d0263e7-2015-458c-b29f-801fee73a393"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583731912113</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan154432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deras.hujan15@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hujan Deras"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='definition-3'>Definition</h3>
<p>Get user profile based on user ID</p>
<h2 id='post-users-search'>POST /users/search</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing1234"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d0263e7-2015-458c-b29f-801fee73a393"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583731912113</span><span class="p">,</span><span class="w">
    </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anjing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='definition-4'>Definition</h3>
<p>Search user by exact username</p>
<h3 id='request-parameter-2'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example value</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>Username to search for</td>
<td>True</td>
<td>anjing</td>
</tr>
</tbody></table>
<h2 id='post-users-friend-search'>POST /users/friend/search</h2>
<blockquote>
<p>Request Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d0263e7-2015-458c-b29f-801fee73a393"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"available_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583731912113</span><span class="p">,</span><span class="w">
    </span><span class="s2">"available_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anjing@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anjing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='definition-5'>Definition</h3>
<p>Search friend by username</p>
<h3 id='request-parameter-3'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Example value</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>Username to search for</td>
<td>True</td>
<td>anjing</td>
</tr>
</tbody></table>
